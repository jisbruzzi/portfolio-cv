{"pageProps":{"post":{"title":"Cómo uso docker con mi disco externo","date":"2021-02-25T02:37:30.187Z","slug":"docker-disco-externo","content":"<p>Como docker me llenaba el disco de mi computadora, decidí pasarlo a un disco sólido externo.</p>\n<ul>\n<li>Disco sólido externo de 128Gb formateado ext4</li>\n<li>Configuración de docker daemon:</li>\n</ul>\n<pre><code class=\"language-bash\">echo '{\n    \"data-root\":\"/media/&#x3C;username>/&#x3C;disco>/docker-root\"\n}' > /etc/docker/daemon.json\n</code></pre>\n<ul>\n<li>Hacer que docker no inicie al prender la computadora. Este paso es importante porque docker puede crear la carpeta <code>/media/&#x3C;username>/&#x3C;disco>/docker-root</code> antes de que se monte el disco.</li>\n</ul>\n<pre><code>systemctl disable docker.socket\nsystemctl disable docker.service\n</code></pre>\n<ul>\n<li>instalar udiskie</li>\n<li>hacer que udiskie se ejecute al iniciar X:</li>\n</ul>\n<pre><code class=\"language-bash\">echo '( sleep 1 &#x26;&#x26; udiskie --smart-tray --menu nested ) &#x26;' >> .xprofile\n</code></pre>\n<p>Ahora, al empezar a trabajar hay que correr <code>sudo service docker start</code> antes de ejecutar cualquier comando de docker o docker compose.</p>\n"}},"__N_SSG":true}